![[COMP3121_9101-2.4.pdf#height=800]]

See also:
- [[A Greedy Algorithm for Scheduling Jobs with Deadlines and Profits.pdf]]
- [Maximum Profit in Job Scheduling - LeetCode](https://leetcode.com/problems/maximum-profit-in-job-scheduling/editorial/)

## Scheduling with Deadlines and Profits

Problem:
- Given $n$ chore, each with an associated profit $p_i$ and deadline $t_i$, where $p_i > 0$ (non-negative real number) and $t_i \geq 1$ (we can assume that $1 \leq t_i \leq n$)
- Each chore takes one day to complete = Each chore takes one unit of time (day) to complete
> Because each chore takes the same amount of time, we can think of a schedule S consisting of a sequence of time (or chore) slots, $S = \{S(1), . . . , S(n)\}$, where $S(d)$ is the chore scheduled on day $d$. 
- Only one chore can be schedule at a time (day)
- If the chore is not scheduled by the due date, then we don’t get the profit

Setup:
> To prove that the algorithm is correct, we need to define what it means for a schedule to be *valid* aka *feasible*.

Solution:

First, sort the chores in order of non-increasing profits $p_i$ and process them in that order. 
Then, for each chore $i$, schedule it on the latest possible day $d$ that:
- (1) meets its due date (on or before): $t_i \leq d$  
- (2) is available/free: $S[d] \neq \emptyset$
Otherwise, if no such day exists, do not schedule it. 

| <pre>algorithm <b>greedy_job_scheduling</b>(C, d, p):<br>    n = \|C\|  (\* number of chores \*)<br><br>    Sort chores in C so that: p1 ≥ p2 ≥ ... ≥ pn<br>    <b>for</b> day = 1 to n <b>do</b><br>        S(day) = ∅  (\* initialize schedule S(1), S(2), ..., S(n) \*)<br><br>    <b>for</b> i = 1 to n <b>do</b><br>        Schedule chore i in the latest possible free slot on or before its deadline di<br>        <b>if</b> no such slot exists, do not schedule chore i<br>    <b>return</b> the schedule<br></pre> |     |
| ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --- |
|                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |     |

