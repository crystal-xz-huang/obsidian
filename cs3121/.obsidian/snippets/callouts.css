/* ---------------------------------------------------------------------------
  Overrides
-----------------------------------------------------------------------------*/
/* Bigger space between icon and title */
.callout-title {
  gap: var(--size-4-2);
}

/* Variables */
body {
  --callout-icon-stroke: 2;
  --callout-icon-size: var(--icon-size);
  --callout-icon-color: inherit;
}

.callout {
  --callout-title-padding: 8px 12px;
}

.callout .callout-icon>svg {
  width: var(--callout-icon-size);
  height: var(--callout-icon-size);
  stroke-width: var(--callout-icon-stroke);
  color: var(--callout-icon-color, var(--callout-title-color));
}

/* ---------------------------------------------------------------------------
  Callout Variables
-----------------------------------------------------------------------------*/
/*--Callout Coloring--*/
.theme-dark {
  /* nord */
  --callout-red-rgb: 191, 97, 106;
  --callout-orange-rgb: 208, 138, 112;
  --callout-yellow-rgb: 235, 203, 139;
  --callout-green-rgb: 163, 190, 140;
  --callout-cyan-rgb: 136, 192, 208;
  --callout-blue-rgb: 129, 161, 193;
  --callout-purple-rgb: 180, 142, 173;
  --callout-pink-rgb: 180, 142, 173;
  --callout-red: #bf616a;
  --callout-orange: #d08770;
  --callout-yellow: #ebcb8b;
  --callout-green: #a3be8c;
  --callout-cyan: #88c0d0;
  --callout-blue: #81a1c1;
  --callout-purple: #b48ead;
  --callout-pink: #b48ead;
  /* rose pine */
  --callout-red-rgb: 234, 111, 146;
  --callout-orange-rgb: 233, 155, 151;
  --callout-yellow-rgb: 246, 193, 119;
  /* --callout-green-rgb: 47, 116, 143; */
  --callout-cyan-rgb: 157, 207, 215;
  --callout-blue-rgb: 157, 207, 215;
  --callout-purple-rgb: 196, 167, 231;
  --callout-pink-rgb: 196, 167, 231;
  --callout-red: #eb6f92;
  --callout-orange: #ea9a97;
  --callout-yellow: #f6c177;
  --callout-green: #31748f;
  --callout-cyan: #9ccfd8;
  --callout-blue: #9ccfd8;
  --callout-purple: #c4a7e7;
  --callout-pink: #c4a7e7;
  /* mono */
  --callout-gray-rgb: 166, 189, 197;
}

.theme-light {
  /* rose pine */
  --callout-red-rgb: 180, 99, 122;
  --callout-orange-rgb: 215, 130, 125;
  --callout-yellow-rgb: 234, 157, 53;
  --callout-green-rgb: 40, 105, 131;
  --callout-cyan-rgb: 87, 147, 159;
  --callout-blue-rgb: 87, 147, 159;
  --callout-purple-rgb: 144, 122, 169;
  --callout-pink-rgb: 144, 122, 169;
  --callout-red: #b4637a;
  --callout-orange: #d7827e;
  --callout-yellow: #ea9d34;
  --callout-green: #286983;
  --callout-cyan: #56949f;
  --callout-blue: #56949f;
  --callout-purple: #907aa9;
  --callout-pink: #907aa9;
  /* mono */
  --callout-gray-rgb: 103, 103, 108;
}

body.theme-light {
  --neutral-3: 247, 247, 247;
  --neutral-7: 217, 217, 217;
  --neutral-9: 120, 120, 120;

  --info-3: 247, 247, 247;
  --info-7: 217, 217, 217;
  --info-9: 120, 120, 120;

  --warning-3: 255, 245, 236;
  --warning-7: 242, 211, 182;
  --warning-9: 254, 154, 0;

  --danger-3: 255, 242, 239;
  --danger-7: 255, 200, 193;
  --danger-9: 251, 44, 54;

  --success-3: 238, 252, 240;
  --success-7: 190, 229, 194;
  --success-9: 0, 201, 80;
}

body.theme-dark {
  --neutral-3: 44, 44, 44;
  --neutral-7: 67, 67, 67;
  --neutral-9: 120, 120, 120;

  --info-3: 39, 48, 54;
  --info-7: 69, 85, 102;
  --info-9: 139, 233, 253;

  --warning-3: 50, 42, 35;
  --warning-7: 87, 62, 37;
  --warning-9: 254, 154, 0;

  --danger-3: 55, 39, 38;
  --danger-7: 100, 51, 48;
  --danger-9: 251, 44, 54;

  --success-3: 37, 47, 38;
  --success-7: 42, 77, 48;
  --success-9: 0, 201, 80;
}

/* ====== Bold ====== */
.callout {
  --bold-color: color-mix(in srgb, rgb(var(--callout-color)), var(--full-contrast) 7.5%);
}

/* ---------------------------------------------------------------------------
  Callout Types
-----------------------------------------------------------------------------*/
/* ====== Defaults ====== */
.callout[data-callout~="abstract"],
.callout[data-callout~="summary"],
.callout[data-callout~="tldr"] {
  --callout-color: var(--callout-summary);
  --callout-icon: lucide-clipboard-list;
}

.callout[data-callout~="info"] {
  --callout-color: var(--callout-info);
  --callout-icon: lucide-info;
}

.callout[data-callout~="todo"] {
  --callout-color: var(--callout-todo);
  --callout-icon: lucide-check-circle-2;
}

.callout[data-callout~="important"] {
  --callout-color: var(--callout-important);
  --callout-icon: lucide-flame;
}

.callout[data-callout~="tip"],
.callout[data-callout~="hint"] {
  --callout-color: var(--callout-tip);
  --callout-icon: lucide-flame;
}

.callout[data-callout~="check"],
.callout[data-callout~="done"] {
  --callout-color: var(--callout-success);
  --callout-icon: lucide-check;
}

.callout[data-callout~="wrong"],
.callout[data-callout~="x"] {
  --callout-color: var(--color-red-rgb);
  --callout-icon: lucide-x;
}

.callout[data-callout~="success"] {
  --callout-color: var(--callout-success);
  --callout-icon: lucide-check-circle-2;
}

.callout[data-callout~="question"],
.callout[data-callout~="help"],
.callout[data-callout~="faq"] {
  --callout-color: var(--callout-question);
  --callout-icon: help-circle;
}

.callout[data-callout~="caution"] {
  --callout-color: var(--color-yellow-rgb);
  --callout-icon: lucide-alert-circle;
}

.callout[data-callout~="warning"] {
  --callout-color: var(--color-orange-rgb);
  --callout-icon: lucide-alert-circle;
}

.callout[data-callout~="attention"] {
  --callout-color: var(--color-red-rgb);
  --callout-icon: lucide-alert-circle;
}

.callout[data-callout~="failure"],
.callout[data-callout~="fail"],
.callout[data-callout~="missing"] {
  --callout-color: var(--callout-fail);
  --callout-icon: lucide-x;
}

.callout[data-callout~="danger"] {
  --callout-color: var(--color-red-rgb);
  --callout-icon: lucide-alert-triangle;
}

.callout[data-callout~="error"] {
  --callout-color: var(--callout-error);
  --callout-icon: lucide-zap;
}

.callout[data-callout~="bug"] {
  --callout-color: var(--callout-bug);
  --callout-icon: lucide-bug;
}

.callout[data-callout~="example"] {
  --callout-color: var(--color-purple-rgb);
  --callout-icon: lucide-list;
}

.callout[data-callout~="quote"],
.callout[data-callout~="cite"] {
  --callout-color: var(--callout-quote);
  --callout-icon: quote-glyph;
}

/* ====== New ====== */
.callout[data-callout~="idea"] {
  --lightbulb-fill-icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M16 21a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-1h8zM12.339 2.009A6 6 0 0 0 19.99 9.66q.009.17.01.34a7.97 7.97 0 0 1-1.756 5.001c-.55.686-1.889 1.727-2.185 2.999H7.94c-.297-1.273-1.637-2.315-2.187-3.001a8 8 0 0 1 6.585-12.99m5.19-1.68a.507.507 0 0 1 .942 0l.253.61a4.37 4.37 0 0 0 2.25 2.327l.718.32a.53.53 0 0 1 0 .962l-.76.338a4.36 4.36 0 0 0-2.218 2.25l-.247.566a.506.506 0 0 1-.934 0l-.246-.565a4.36 4.36 0 0 0-2.22-2.251l-.76-.338a.53.53 0 0 1 0-.963l.718-.32A4.37 4.37 0 0 0 17.276.94z"/></svg>';
  --lightbulb-icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill="currentColor" d="M12.339 2.009L12 4a6 6 0 0 0-4.686 9.748c.086.107.806.853.917.974c.997 1.084 1.61 2.076 1.742 3.278h4.054c.132-1.201.745-2.193 1.74-3.277c.113-.122.83-.866.917-.973A5.97 5.97 0 0 0 18 10l1.99-.34q.009.17.01.34a7.97 7.97 0 0 1-1.756 5.001C17.624 15.774 16 17 16 18.5V21a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2v-2.5c0-1.5-1.625-2.727-2.246-3.501a8 8 0 0 1 6.585-12.99M10 21h4v-1h-4zM17.53.328a.507.507 0 0 1 .94 0l.254.612a4.37 4.37 0 0 0 2.25 2.326l.718.32a.53.53 0 0 1 0 .962l-.76.338a4.36 4.36 0 0 0-2.218 2.251l-.247.565a.506.506 0 0 1-.934 0l-.246-.565a4.36 4.36 0 0 0-2.22-2.251l-.76-.338a.53.53 0 0 1 0-.963l.718-.32A4.37 4.37 0 0 0 17.276.94z"/></svg>';
  --callout-icon-stroke: 0;
  --callout-icon: var(--lightbulb-fill-icon);
  --callout-color: var(--color-yellow-rgb);
}

.callout[data-callout~="note"] {
  --note-icon: '<svg width="20" height="20" viewBox="0 0 20 20" fill="currentColor" stroke="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.0303 4.11328C13.4406 2.70317 15.7275 2.70305 17.1377 4.11328C18.5474 5.52355 18.5476 7.81056 17.1377 9.2207L10.8457 15.5117C10.522 15.8354 10.2868 16.0723 10.0547 16.2627L9.82031 16.4394C9.61539 16.5794 9.39783 16.7003 9.1709 16.7998L8.94141 16.8916C8.75976 16.9582 8.57206 17.0072 8.35547 17.0518L7.59082 17.1865L5.19727 17.5859C5.05455 17.6097 4.90286 17.6358 4.77441 17.6455C4.67576 17.653 4.54196 17.6555 4.39648 17.6201L4.24707 17.5703C4.02415 17.4746 3.84119 17.3068 3.72559 17.0957L3.67969 17.0029C3.59322 16.8013 3.59553 16.6073 3.60547 16.4756C3.61519 16.3473 3.6403 16.1963 3.66406 16.0537L4.06348 13.6602C4.1638 13.0582 4.22517 12.6732 4.3584 12.3096L4.45117 12.0791C4.55073 11.8521 4.67152 11.6346 4.81152 11.4297L4.9873 11.1953C5.17772 10.9632 5.4146 10.728 5.73828 10.4043L12.0303 4.11328ZM6.67871 11.3447C6.32926 11.6942 6.14542 11.8803 6.01953 12.0332L5.90918 12.1797C5.81574 12.3165 5.73539 12.4618 5.66895 12.6133L5.60742 12.7666C5.52668 12.9869 5.48332 13.229 5.375 13.8789L4.97656 16.2725L4.97559 16.2744H4.97852L7.37207 15.875L8.08887 15.749C8.25765 15.7147 8.37336 15.6839 8.4834 15.6435L8.63672 15.581C8.78817 15.5146 8.93356 15.4342 9.07031 15.3408L9.2168 15.2305C9.36965 15.1046 9.55583 14.9207 9.90527 14.5713L14.8926 9.583L11.666 6.35742L6.67871 11.3447ZM16.1963 5.05371C15.3054 4.16303 13.8616 4.16305 12.9707 5.05371L12.6074 5.41601L15.833 8.64257L16.1963 8.27929C17.0869 7.38844 17.0869 5.94455 16.1963 5.05371Z"></path><path d="M5.13477 6.68139L5 6.6687H2.5C2.13273 6.6687 1.83496 6.96647 1.83496 7.33374C1.83518 7.70082 2.13286 7.99877 2.5 7.99877H5L5.13477 7.9851C5.4375 7.92299 5.66485 7.6548 5.66504 7.33374C5.66504 7.01249 5.43764 6.74352 5.13477 6.68139Z"></path><path d="M8.46777 3.34838L8.33301 3.33471H2.5C2.13281 3.33471 1.8351 3.6326 1.83496 3.99975C1.83496 4.36702 2.13273 4.66479 2.5 4.66479H8.33301L8.46777 4.65112C8.77057 4.58893 8.99805 4.32094 8.99805 3.99975C8.99793 3.67864 8.77054 3.41052 8.46777 3.34838Z"></path></svg>4 11.2783 12.8472 11.6269 12.8472 11.9924Z"></path></svg>';
  --callout-icon-stroke: 0.25px;
  --callout-icon: var(--note-icon);
  --callout-color: var(--callout-blue-rgb, --color-blue-rgb);
}

.callout[data-callout~="incorrect"],
.callout[data-callout~="error"] {
  --callout-icon: lucide-circle-x;
}

.callout[data-callout~="task"],
.callout[data-callout~="todo"] {
  --callout-icon: lucide-list-todo;
}

.callout[data-callout~="goal"],
.callout[data-callout~="target"] {
  --callout-icon: lucide-goal;
  --callout-color: var(--color-yellow-rgb);
}

.callout[data-callout~='code'] {
  --callout-icon: lucide-code-xml;
  --callout-color: var(--color-purple-rgb);
}

.callout[data-callout~='answer'] {
  --callout-icon: lucide-circle-check;
  --callout-color: var(--color-green-rgb);
}

.callout[data-callout~='issue'] {
  --callout-icon: lucide-frown;
  --callout-color: var(--callout-red-rgb, --color-red-rgb);
}

.callout[data-callout~='fix'] {
  --callout-icon: lucide-smile;
  --callout-color: var(--callout-green-rgb, --color-green-rgb);
}

.callout[data-callout~="aside"] {
  --callout-icon: lucide-paperclip;
  --callout-color: 140, 149, 159;
}

.callout[data-callout~="faq"] {
  --callout-icon: lucide-help-circle;
  --callout-color: var(--callout-cyan-rgb, --color-cyan-rgb);

  >.callout-title>.callout-title-inner {
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
}

/* ---------------------------------------------------------------------------
  Coding Types
-----------------------------------------------------------------------------*/
.callout[data-callout~='algorithm'] {
  --callout-icon: lucide-chart-spline;
}

.callout[data-callout~='time'] {
  --callout-icon: lucide-clock;
  --callout-color: var(--color-orange-rgb);
}

.callout:is([data-callout~="explanation"], [data-callout~='solution']) {
  --callout-icon: lucide-circle-check;
  --callout-color: var(--color-blue-rgb);
}


.callout[data-callout="problem"] {
  --callout-icon: lucide-list;
  --callout-color: var(--color-purple-rgb);
}

.callout[data-callout="abstraction"] {
  --callout-color: var(--callout-summary);
  --callout-icon: lucide-clipboard-list;
}

.callout:is([data-callout="problem"], [data-callout="abstraction"]) {
  /* style-4 */
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: 0;
  --callout-title-color: inherit;
  --callout-title-padding: 6px 14px !important;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 0px;
}

.theme-dark .callout:is([data-callout="problem"], [data-callout="abstraction"]) {
  --callout-content-background: #00000040;
}

/* ---------------------------------------------------------------------------
  Maths Callouts
-----------------------------------------------------------------------------*/
.callout[data-callout="maths"] {
  --callout-icon: lucide-sigma;
  --callout-color: var(--color-blue-rgb);
}

.callout[data-callout="function"] {
  --callout-icon: lucide-square-function;
  --callout-color: var(--color-green-rgb);
}

.callout[data-callout="bookmark"] {
  --callout-color: transparent;
  --callout-icon: lucide-bookmark;
  border-color: var(--quaternary-contrast);

  &>.callout-title {
    color: inherit;
    background: var(--background-alt-light);
    border-bottom: 1px solid var(--quaternary-contrast);
  }
}

.theme-dark .callout[data-callout="bookmark"] {
  &>.callout-title {
    background: var(--background-alt-dark);
  }
}

.callout:is([data-callout="observation"]) {
  --callout-icon: lucide-clipboard-pen-line;
  --callout-color: var(--callout-cyan-rgb, --color-cyan-rgb);
}

.callout:is([data-callout="remark"], [data-callout="rmk"]) {
  --callout-icon: lucide-message-square;
  --callout-color: transparent;
  border-color: var(--quaternary-contrast);

  &>.callout-title {
    color: inherit;
    background: var(--background-alt-light);
    border-bottom: 1px solid var(--quaternary-contrast);
  }
}

.callout:is([data-callout="remark"], [data-callout="rmk"]) {
  &>.callout-title {
    background: var(--background-alt-dark);
  }
}

.callout[data-callout="proof"] {
  --callout-icon: lucide-shield-check;
  --callout-color: var(--callout-green-rgb, --color-green-rgb);
}

.callout:is([data-callout*="definition"], [data-callout*="def"], [data-callout*="lemma"], [data-callout*="theorem"], [data-callout*="proposition"], [data-callout*="corollary"],
  [data-callout*="claim"]) {
  --callout-icon: '<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 448 512"><path fill="currentColor" d="M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7c-4.2-15.4-4.2-59.3 0-74.7c5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32c0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"/></svg>';
  --callout-icon-size: 1em;
  --callout-radius: 0px;
  --bold-color: #dc388f;
  --callout-color: 140, 150, 217;
  --callout-title-color: #5460ab;
  border: 4px double hsl(230 25% 67%);
}

.theme-dark .callout:is([data-callout*="definition"], [data-callout*="def"], [data-callout*="lemma"], [data-callout*="theorem"], [data-callout*="proposition"], [data-callout*="corollary"], [data-callout*="claim"]) {
  --bold-color: #ed5aa8;
  --callout-title-color: #bcc5e8;
}

/* Add parentheses around definition titles */
.callout:is([data-callout="def"]) {
  --callout-title-weight: 400;

  .callout-title {
    gap: 4px;
  }

  .callout-title-inner {
    font-weight: 400;
  }

  .callout-icon::after {
    content: "Definition";
    margin-left: 8px;
    font-weight: 600;
    font-size: var(--callout-title-size);
    color: var(--callout-title-color);
  }

  .callout-title-inner::before {
    content: "(";
    font-weight: var(--callout-title-weight);
    font-size: var(--callout-title-size);
    color: var(--callout-title-color);
  }

  .callout-title-inner::after {
    content: ").";
    font-weight: var(--callout-title-weight);
    font-size: var(--callout-title-size);
    color: var(--callout-title-color);
  }
}

/* ---------------------------------------------------------------------------
  Callout Metadata
-----------------------------------------------------------------------------*/
/** Center text */
.callout[data-callout-metadata~=text-center]>.callout-content {
  text-align: center;
}

/** No Icon */
.callout[data-callout-metadata~=no-icon] {
  --callout-title-padding: 8px 16px;

  .callout-icon {
    display: none;
  }
}

/** No Content */
.callout[data-callout-metadata~='no-content'] {
  --callout-title-size: var(--font-small);
  --callout-title-weight: 400;
  /* 4 values: top right bottom left */
  --callout-title-padding: 16px;
  --callout-icon-stroke: 2;
  --bold-color: var(--full-contrast);
  --callout-content-background: transparent;
  --callout-content-padding: 0 16px 0px 48px;
  border-radius: 8px;

  .callout-title {
    color: var(--primary-contrast);
    letter-spacing: normal;
    justify-content: flex-start;
    text-align: start;
    gap: var(--size-4-3);
  }
}

.callout[data-callout-metadata~='no-content']:has(.callout-content) {
  --callout-title-padding: 16px 16px 8px 16px;

  .callout-content {
    color: var(--primary-contrast);
    font-size: var(--font-small);
    line-height: 1.4;
  }

  >.callout-content> :first-child {
    margin-top: 0px !important;
  }
}

.callout[data-callout*="warning"][data-callout-metadata~='no-content'] {
  --callout-color: var(--warning-9);
  --callout-icon-color: rgb(var(--warning-9));
  background-color: rgb(var(--warning-3));
  border-color: rgb(var(--warning-7));
}

.callout[data-callout*="danger"][data-callout-metadata~='no-content'] {
  --callout-color: var(--danger-9);
  --callout-icon-color: rgb(var(--danger-9));
  background-color: rgb(var(--danger-3));
  border-color: rgb(var(--danger-7));
}

.callout[data-callout*="info"][data-callout-metadata~='no-content'] {
  --callout-color: var(--info-9);
  --callout-icon-color: rgb(var(--info-9));
  background-color: rgb(var(--info-3));
  background-color: color-mix(in oklab, rgb(var(--callout-color)) 5%, var(--background-secondary));
  border-color: rgb(var(--info-7));
}

.callout[data-callout*="success"][data-callout-metadata~='no-content'] {
  --callout-color: var(--success-9);
  --callout-icon-color: rgb(var(--success-9));
  background-color: rgb(var(--success-3));
  border-color: rgb(var(--success-7));
}

.callout[data-callout*="neutral"][data-callout-metadata~='no-content'] {
  --callout-color: var(--neutral-9);
  --callout-icon-color: rgb(var(--neutral-9));
  background-color: rgb(var(--neutral-3));
  border-color: rgb(var(--neutral-7));
}

.callout[data-callout=error][data-callout-metadata~='no-content'] {
  background-color: color(display-p3 .996 .282 .282/.055);
  border-color: color(display-p3 1 .169 .271/.156);
  --callout-icon-color: color(display-p3 1 .463 .447/.853);
  --callout-color: 255, 149, 146;
}

/** No Background */
.callout[data-callout-metadata~='bg-none'] {
  background-color: transparent;
}

/** No Border */
.callout[data-callout-metadata~='border-none'] {
  border: none;
}

/** Change Color */
.callout[data-callout-metadata~="yellow"] {
  --callout-color: var(--color-yellow-rgb);
}

.callout[data-callout-metadata~="orange"] {
  --callout-color: var(--color-orange-rgb);
}

.callout[data-callout-metadata~="red"] {
  --callout-color: var(--color-red-rgb);
}

.callout[data-callout-metadata~="green"] {
  --callout-color: var(--color-green-rgb);
}

.callout[data-callout-metadata~="blue"] {
  --callout-color: var(--color-blue-rgb);
}

.callout[data-callout-metadata~="purple"] {
  --callout-color: var(--color-purple-rgb);
}

.callout[data-callout-metadata~="pink"] {
  --callout-color: var(--color-pink-rgb);
}

.callout[data-callout-metadata~="cyan"] {
  --callout-color: var(--color-cyan-rgb);
}

.callout[data-callout-metadata~="gray"] {
  --callout-color: var(--callout-quote);
}

.callout[data-callout-metadata~="black"] {
  --callout-color: var(--color-black-rgb);
}

/* ---------------------------------------------------------------------------
  Blockquote Styles
-----------------------------------------------------------------------------*/
.theme-light {
  --border-xlight: #0000000d;
  --border-light: #0000001a;
  --border-medium: #00000026;
  --border-heavy: #0003;
  --border-xheavy: #00000040;
  --border-sharp: #0000000d;
}

.theme-dark {
  --border-xlight: #ffffff0d;
  --border-light: #ffffff1a;
  --border-medium: #ffffff26;
  --border-heavy: #fff3;
  --border-xheavy: #ffffff40;
  --border-sharp: #ffffff0d;
}

.callout:is([data-callout*="blockquote"], [data-callout*="citation"]) {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: 0;
  --callout-title-color: inherit;
  --callout-title-padding: 8px;
  --callout-title-size: inherit;
  /* --callout-title-weight: normal; */
  --callout-content-padding: 0px 16px;
  --callout-content-background: transparent;
  --callout-content-radius: 0px;
  --callout-icon: none;
  --callout-color: none;
  --italic-color: inherit;
  border-color: var(--border-medium);

  >.callout-icon {
    display: none;
  }
}


.callout:is([data-callout*="blockquote"], [data-callout*="citation"]) {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: 0;
  --callout-title-color: var(--quaternary-contrast);
  --callout-title-padding: 8px;
  --callout-title-size: inherit;
  /* --callout-title-weight: normal; */
  --callout-content-padding: 0px 16px;
  --callout-content-background: transparent;
  --callout-content-radius: 0px;
  --callout-icon: none;
  --callout-color: none;
  --italic-color: inherit;
  border-color: var(--border-medium);

  >.callout-icon {
    display: none;
  }
}

.callout:is([data-callout*="blockquote"], [data-callout*="citation"]):not([data-callout-metadata~=no-t], [data-callout-metadata~=no-title]) {
  >.callout-content>*:first-child {
    margin-top: 0;
  }
}

.callout:is([data-callout*="blockquote"], [data-callout*="citation"]):is([data-callout-metadata~=no-t], [data-callout-metadata~=no-title]) {
  >.callout-content>*:first-child {
    margin-top: 8px;
  }

  >.callout-content>*:last-child {
    margin-bottom: 8px;
  }
}

.callout:is([data-callout*="citation"]):is([data-callout-metadata~=no-t], [data-callout-metadata~=no-title]) {
  --quote-up-icon-data: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 24 24' fill='oklch(70.9%25 .015 304.04)'%3E%3Cg fill='none' stroke='oklch(70.9%25 .015 304.04)' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' color='currentColor'%3E%3Cpath d='M14 16c0-1.886 0-2.828.586-3.414S16.114 12 18 12s2.828 0 3.414.586S22 14.114 22 16s0 2.828-.586 3.414S19.886 20 18 20s-2.828 0-3.414-.586S14 17.886 14 16'/%3E%3Cpath d='M14 16v-4.137C14 8.196 16.516 5.086 20 4M2 16c0-1.886 0-2.828.586-3.414S4.114 12 6 12s2.828 0 3.414.586S10 14.114 10 16s0 2.828-.586 3.414S7.886 20 6 20s-2.828 0-3.414-.586S2 17.886 2 16'/%3E%3Cpath d='M2 16v-4.137C2 8.196 4.516 5.086 8 4'/%3E%3C/g%3E%3C/svg%3E");
  --quote-down-icon-data: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 24 24' fill='%23000000'%3E%3Cg fill='none' stroke='%23000000' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' color='currentColor'%3E%3Cpath d='M10 8c0 1.886 0 2.828-.586 3.414S7.886 12 6 12s-2.828 0-3.414-.586S2 9.886 2 8s0-2.828.586-3.414S4.114 4 6 4s2.828 0 3.414.586S10 6.114 10 8'/%3E%3Cpath d='M10 7v4.482c0 3.973-2.516 7.342-6 8.518M22 8c0 1.886 0 2.828-.586 3.414S19.886 12 18 12s-2.828 0-3.414-.586S14 9.886 14 8s0-2.828.586-3.414S16.114 4 18 4s2.828 0 3.414.586S22 6.114 22 8'/%3E%3Cpath d='M22 7v4.482c0 3.973-2.516 7.342-6 8.518'/%3E%3C/g%3E%3C/svg%3E");

  >.callout-content>*:first-child::before {
    content: "";
    display: inline-block;
    width: var(--callout-icon-size);
    height: var(--callout-icon-size);
    mask-image: var(--quote-up-icon-data);
    background-color: oklch(70.9% .015 304.04);
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: left;
    margin-right: 8px;
  }

  >.callout-content>*:last-child::after {
    content: "";
    float: right;
    clear: right;
    width: var(--callout-icon-size);
    height: var(--callout-icon-size);
    mask-image: var(--quote-down-icon-data);
    background-color: oklch(70.9% .015 304.04);
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: center;
    vertical-align: middle;
    transform: translate(8px, 0px);
  }

  svg {
    color: oklch(70.9% .015 304.04);
  }
}

.callout:is([data-callout*="citation"]):is([data-callout-metadata~=no-c], [data-callout-metadata~=no-content]) {
  --quote-up-icon: '<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200" viewBox="0 0 24 24" fill="currentColor"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" color="currentColor"><path d="M14 16c0-1.886 0-2.828.586-3.414S16.114 12 18 12s2.828 0 3.414.586S22 14.114 22 16s0 2.828-.586 3.414S19.886 20 18 20s-2.828 0-3.414-.586S14 17.886 14 16"/><path d="M14 16v-4.137C14 8.196 16.516 5.086 20 4M2 16c0-1.886 0-2.828.586-3.414S4.114 12 6 12s2.828 0 3.414.586S10 14.114 10 16s0 2.828-.586 3.414S7.886 20 6 20s-2.828 0-3.414-.586S2 17.886 2 16"/><path d="M2 16v-4.137C2 8.196 4.516 5.086 8 4"/></g></svg>';
  --quote-down-icon-data: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200' viewBox='0 0 24 24' fill='%23000000'%3E%3Cg fill='none' stroke='%23000000' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' color='currentColor'%3E%3Cpath d='M10 8c0 1.886 0 2.828-.586 3.414S7.886 12 6 12s-2.828 0-3.414-.586S2 9.886 2 8s0-2.828.586-3.414S4.114 4 6 4s2.828 0 3.414.586S10 6.114 10 8'/%3E%3Cpath d='M10 7v4.482c0 3.973-2.516 7.342-6 8.518M22 8c0 1.886 0 2.828-.586 3.414S19.886 12 18 12s-2.828 0-3.414-.586S14 9.886 14 8s0-2.828.586-3.414S16.114 4 18 4s2.828 0 3.414.586S22 6.114 22 8'/%3E%3Cpath d='M22 7v4.482c0 3.973-2.516 7.342-6 8.518'/%3E%3C/g%3E%3C/svg%3E");
  --callout-icon: var(--quote-up-icon);
  --callout-title-gap: 6px;

  .callout-title-inner::after {
    content: "";
    float: right;
    width: var(--callout-icon-size);
    height: var(--callout-icon-size);
    mask-image: var(--quote-down-icon-data);
    background-color: oklch(70.9% .015 304.04);
    mask-size: contain;
    mask-repeat: no-repeat;
    mask-position: center;
    vertical-align: middle;
    transform: translateY(2px);
    margin-left: var(--callout-title-gap);
  }

  svg {
    color: oklch(70.9% .015 304.04);
  }
}


/* ====== Callout ====== */
body {
  /* Callouts */
  --callout-border-width: 0px;
  --callout-border-opacity: 0.25;
  --callout-padding: var(--size-4-3) var(--size-4-3) var(--size-4-3) var(--size-4-6);
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 0;
  --callout-title-size: inherit;
  --callout-content-padding: 0;
  --callout-content-background: transparent;
  --callout-content-radius: 0px;
}

.theme-light .callout:is([data-callout-metadata*="style-1"], [data-callout*=style-1]),
.callout-style-1.theme-light {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 0px;
}

.theme-dark .callout:is([data-callout-metadata*="style-1"], [data-callout*=style-1]),
.callout-style-1.theme-dark {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #00000040;
  --callout-content-radius: 0px;
}

.theme-light .callout:is([data-callout-metadata*="style-2"], [data-callout*=style-2]),
.callout-style-2.theme-light {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0 6px 6px;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 4px;
}

.theme-dark .callout:is([data-callout-metadata*="style-2"], [data-callout*=style-2]),
.callout-style-2.theme-dark {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0 6px 6px;
  --callout-radius: var(--radius-s);
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #00000040;
  --callout-content-radius: 4px;
}

body:is(.theme-light, .theme-dark) .callout:is([data-callout-metadata*="style-3"], [data-callout*=style-3]),
.callout-style-3:is(.theme-light, .theme-dark) {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: var(--size-4-3) var(--size-4-3) var(--size-4-3) var(--size-4-6);
  --callout-radius: 0;
  --callout-title-color: inherit;
  --callout-title-padding: 0;
  --callout-title-size: inherit;
  --callout-content-padding: 0;
  --callout-content-background: transparent;
  --callout-content-radius: 0px;
}

.theme-light .callout:is([data-callout-metadata*="style-4"], [data-callout*=style-4]),
.callout-style-4.theme-light {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: 0;
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 0px;
}

.theme-dark .callout:is([data-callout-metadata*="style-4"], [data-callout*=style-4]),
.callout-style-4.theme-dark {
  --callout-border-width: 0 0 0 4px;
  --callout-border-opacity: 1;
  --callout-padding: 0;
  --callout-radius: 0;
  --callout-title-color: inherit;
  --callout-title-padding: 8px 16px;
  --callout-title-size: inherit;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #00000040;
  --callout-content-radius: 0px;
}

.callout:is([data-callout-metadata*="style-5"], [data-callout*=style-5]) {
  --callout-border-width: 1px;
  --callout-border-opacity: 0.25;
  --callout-padding: 0;
  --callout-radius: 0;
  --callout-title-color: inherit;
  --callout-title-padding: 12px 16px 0px 16px;
  /* top right bottom left */
  --callout-title-size: 9px;
  --callout-title-weight: 600;
  --callout-content-padding: 0px 16px;
  --callout-content-background: #FFFFFFBF;
  --callout-content-radius: 0px;
  /* --callout-color: 145, 145, 145; */
  --bold-color: unset;

  .callout-title {
    text-transform: uppercase;
    letter-spacing: 0.6px;
    background-color: var(--callout-content-background);
    line-height: 1.2;
    padding: 12px 16px 0px 16px;
  }

  .callout-icon {
    display: none;
  }
}

.theme-dark .callout:is([data-callout-metadata*="style-5"], [data-callout*=style-5]) {
  --callout-content-background: #00000040;
}