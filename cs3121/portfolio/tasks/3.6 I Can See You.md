![[COMP3121_9101-3.6.pdf#height=580]]


Related to:
- [[Tsunami Warning]]
- [[Strongly Connected Components and Condensation Graph|Strongly Connected Components]]

# Overview

- Given a directed graph $G(V, E)$ with each vertex $v$ having a positive weight $w(v)$.
- A subset $S \subseteq V$ is all-seeing if **every vertex in the graph is reachable from at least one member of S**.
- The goal is to find a **minimum-weight** all-seeing subset.

> For all $v \in V$, there exists $s \in S$ such that $s \rightsquigarrow v$ 

- SCC
	- Within an SCC, all vertices have the same “downstream reachability” set in the graph — they can all reach the same vertices _outside_ their component.
	- Therefore, in deciding which vertices can “see” the entire graph, you don’t need to treat vertices _inside the same SCC_ separately.
	- Vertices inside the same SCC can all reach each other; you only need one representative. Therefore, choose the one with the minimum weight?
- Condensation graph
	- Contract each ==SCC== into a single node
	- The condensation graph is a directed acyclic graph, and is topologically sorted.
	- Each node represents a SCC
	- Guaranteed to have a node with no incoming edges because the graph has no cycles (DAG).
		- A vertex with **no incoming edge** cannot be reached from anywhere (but it is reachable from itself)
		- A node (i.e. an SCC) in the condensation graph can have **no incoming edges and no outgoing edges**. So it is isolated and is cannot be reached and does not reach anywhere. 
		- Either case, we must pick a node (SCC) with no incoming edge 

To make **every SCC** reachable from at least one chosen SCC, you must **pick at least one vertex from every _source SCC_** — that is, an SCC that has **no incoming edges** in the condensation graph.

1. **Compute SCCs** — group mutually reachable vertices.
2. **Build the condensation graph** of these SCCs.
3. **Identify all source SCCs** (no incoming edges).
4. **Pick one vertex of smallest weight** from each source SCC.
5. The union of these chosen vertices is the **minimum-weight all-seeing set**.

- The resulting graph is a directed and acyclic graph. 
- Run Tarjan’s/Kosaraju’s algorithm on the graph $G$ to find the strongly connected components and form the condensation graph $\Sigma_G$ in linear time $O (|V | + |E |)$.
- For each vertex of $\Sigma_G$ that has no incoming edges, choose the vertex of smallest weight in that strongly connected component to add to the all-seeing set $S$. 


